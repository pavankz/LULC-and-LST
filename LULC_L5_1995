/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var aoi = ee.FeatureCollection("users/b171905/Study_Area"),
    Waterbody = /* color: #ff0000 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[78.43506662823806, 17.34949891893445],
                  [78.4374698875154, 17.345566443388687],
                  [78.44450800397048, 17.339667572006952],
                  [78.44244806744705, 17.344419455473744],
                  [78.43609659649978, 17.351137425526762]]]),
            {
              "LULC": 1,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.52550353662528, 17.355942504947304],
                  [78.52747764246024, 17.354222117725474],
                  [78.52825011865653, 17.351723431344837],
                  [78.52919425622977, 17.352870373583325],
                  [78.52842178003348, 17.35512327495033],
                  [78.526533504887, 17.35676173128338]]]),
            {
              "LULC": 1,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.56409402784105, 17.386068343500018],
                  [78.56409402784105, 17.385781660575187],
                  [78.56540294584032, 17.38563831894435],
                  [78.56733413633104, 17.385904524740823],
                  [78.56917949613329, 17.386518844331594],
                  [78.57203336652513, 17.387358411103563],
                  [78.57443662580248, 17.38807511139755],
                  [78.57598157819506, 17.388238928213426],
                  [78.57791276868578, 17.389058010092654],
                  [78.57962938245531, 17.38952898051275],
                  [78.57913585599657, 17.38989756521319],
                  [78.57699008878465, 17.389262779989494],
                  [78.5759172051787, 17.389160395069723],
                  [78.57413621839281, 17.38848465316222],
                  [78.57248397763964, 17.387829385898726],
                  [78.57106777127977, 17.387501751386953],
                  [78.5689649194121, 17.38680552610149],
                  [78.56654020246263, 17.386252639428815],
                  [78.56533857282396, 17.386047866163146],
                  [78.56407257016893, 17.386211684794013]]]),
            {
              "LULC": 1,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.4787950222048, 17.371627092681692],
                  [78.47965332908957, 17.371811403149263],
                  [78.48055455131858, 17.372282417945904],
                  [78.48128411217063, 17.37275343153118],
                  [78.48239991112082, 17.37332683773903],
                  [78.48179909630149, 17.373593061439536],
                  [78.48094078941672, 17.3732654014455],
                  [78.48016831322043, 17.37248720661008],
                  [78.47903105659812, 17.372098107952354],
                  [78.47750756187766, 17.37179092421758],
                  [78.47791525764792, 17.371217513200822]]]),
            {
              "LULC": 1,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.45559142618573, 17.365280910700424],
                  [78.45572017221845, 17.3641340461162],
                  [78.45531247644819, 17.363232933192755],
                  [78.4544327118913, 17.362290855852965],
                  [78.45359586267865, 17.3616150147779],
                  [78.45389627008832, 17.360877730762535],
                  [78.45522664575971, 17.362086055790396],
                  [78.4557845452348, 17.36311005381441],
                  [78.45619224100507, 17.36401116734213],
                  [78.45640681772626, 17.36517851236869],
                  [78.45582746057904, 17.365895299488997]]]),
            {
              "LULC": 1,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.43679266182703, 17.37339120579709],
                  [78.4374363919906, 17.372346786371054],
                  [78.4384449025802, 17.371527629712304],
                  [78.43908863274378, 17.370626553156022],
                  [78.43953924385828, 17.37015553410097],
                  [78.44048338143152, 17.36917253391054],
                  [78.44149189202112, 17.36804617304044],
                  [78.44153480736536, 17.368476238917292],
                  [78.44069795815271, 17.36972547216677],
                  [78.43960361687463, 17.370687990334776],
                  [78.43865947930139, 17.371732419220482],
                  [78.43780117241663, 17.372633490336007],
                  [78.43674974648279, 17.373821259123602]]]),
            {
              "LULC": 1,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.41514187065881, 17.38203303599174],
                  [78.41406898705286, 17.38059958527074],
                  [78.41630058495325, 17.38059958527074]]]),
            {
              "LULC": 1,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.46654891241822, 17.429954481983895],
                  [78.46963881720337, 17.416360289866283],
                  [78.48011016119752, 17.423075619709483]]]),
            {
              "LULC": 1,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.40286236715276, 17.465231132005265],
                  [78.40243321371038, 17.460728015705463],
                  [78.40414982747991, 17.464903636392357]]]),
            {
              "LULC": 1,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.32886308739127, 17.496678942927787],
                  [78.33109468529166, 17.499625867457677],
                  [78.32534402916373, 17.50150859977792]]]),
            {
              "LULC": 1,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.42812212975336, 17.537694389867895],
                  [78.42889460594965, 17.536712292990998],
                  [78.4298387435229, 17.540024888361806],
                  [78.43137531955314, 17.54232487714273],
                  [78.43212276958333, 17.544486795167316],
                  [78.43268066905843, 17.545059661088196],
                  [78.4327664997469, 17.54636906210717],
                  [78.4318652775179, 17.546532736569283],
                  [78.43165070079671, 17.545673443993888],
                  [78.43122154735433, 17.54399576579384],
                  [78.43070656322347, 17.54260450867772],
                  [78.43023449443685, 17.541458759504515],
                  [78.42924744151937, 17.540681282726652],
                  [78.42778831981526, 17.53924907993305],
                  [78.42688709758626, 17.53793962747723]]]),
            {
              "LULC": 1,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.4072356895089, 17.53785384451597],
                  [78.40749318157432, 17.535971489150914],
                  [78.40843731914757, 17.53777200338473],
                  [78.40689236675499, 17.539531579564727]]]),
            {
              "LULC": 1,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.46794045411868, 17.523150326915466],
                  [78.47351944886965, 17.5229047835072],
                  [78.47137368165774, 17.52519650906316],
                  [78.46605217897219, 17.526587899743063]]]),
            {
              "LULC": 1,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.55220813889825, 17.49774045451433],
                  [78.55177898545587, 17.49536652220297],
                  [78.55375309129083, 17.490782289312623],
                  [78.55375309129083, 17.496103263134927]]]),
            {
              "LULC": 1,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.54589651057867, 17.530497909051874],
                  [78.54589651057867, 17.528083482220467],
                  [78.5478277010694, 17.52947485075881]]]),
            {
              "LULC": 1,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.26155454579947, 17.52481818629829],
                  [78.26121122304556, 17.52113503414089],
                  [78.26400072042105, 17.52146242847085]]]),
            {
              "LULC": 1,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.26937211966145, 17.53729688176577],
                  [78.26799882864583, 17.53786977040996],
                  [78.26679719900716, 17.536601228835654],
                  [78.26761259054769, 17.535905573236505]]]),
            {
              "LULC": 1,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.31509603795138, 17.466818218784272],
                  [78.3175851279172, 17.47189428121653],
                  [78.31432356175509, 17.472058022809488]]]),
            {
              "LULC": 1,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.35125903376594, 17.49844143140928],
                  [78.34945658930793, 17.497049825044193],
                  [78.34967116602913, 17.495535417775397],
                  [78.35203150996223, 17.495248906872735],
                  [78.35280398615852, 17.496149368188917],
                  [78.35185984858528, 17.498605149104616],
                  [78.35331897028938, 17.499669310529328],
                  [78.3517740178968, 17.500037672647544]]]),
            {
              "LULC": 1,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.41305449596885, 17.51345441971176],
                  [78.41262534252647, 17.51050771950097],
                  [78.41374114147666, 17.50846137177836],
                  [78.416144400754, 17.51067142632268],
                  [78.4198351203585, 17.512308486422963],
                  [78.41811850658897, 17.513208863187266],
                  [78.41554358593467, 17.512554044165082],
                  [78.41674521557334, 17.51550071116747],
                  [78.41511443249229, 17.516237370445523]]]),
            {
              "LULC": 1,
              "system:index": "19"
            })]),
    UrbanBuiltup = /* color: #00ff00 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[78.4344718687395, 17.517011708388385],
                  [78.44082333968676, 17.5136558062275],
                  [78.44296910689867, 17.517011708388385],
                  [78.4359309904436, 17.518976110135906]]]),
            {
              "LULC": 2,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.4374640179962, 17.49148507801188],
                  [78.4429571820587, 17.490584593591983],
                  [78.44184138310851, 17.49361347800226],
                  [78.43531825078429, 17.494186504511397],
                  [78.43257166875304, 17.491648801972712],
                  [78.43214251531066, 17.48861988483254]]]),
            {
              "LULC": 2,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.41032118152447, 17.487816660632475],
                  [78.41169447254009, 17.481840514626413],
                  [78.41564268421001, 17.48372343112969],
                  [78.41323942493267, 17.48748920566239]]]),
            {
              "LULC": 2,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.44671174785213, 17.46429977817934],
                  [78.45040246745663, 17.457094701820285],
                  [78.45263406535702, 17.457995351950125],
                  [78.44945832988338, 17.463808532026803]]]),
            {
              "LULC": 2,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.48878893564013, 17.438529009512983],
                  [78.48724398324755, 17.435007885013245],
                  [78.49170717904833, 17.432551246277914],
                  [78.49788698861865, 17.435253547067482],
                  [78.49170717904833, 17.438447123668656]]]),
            {
              "LULC": 2,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.49708276262945, 17.4185861322492],
                  [78.49476533404058, 17.41817665792014],
                  [78.49965768328374, 17.41498272664595],
                  [78.5056658314771, 17.411543045893847],
                  [78.5067816304273, 17.41514651935199],
                  [78.49965768328374, 17.41940507815297]]]),
            {
              "LULC": 2,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.4749384450025, 17.384760460327396],
                  [78.47390847674077, 17.380992564837115],
                  [78.47313600054449, 17.375586318442302],
                  [78.48008828631109, 17.37787989701668],
                  [78.48103242388433, 17.381811679150836]]]),
            {
              "LULC": 2,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.47333829880527, 17.360124523994447],
                  [78.48123472214512, 17.360124523994447],
                  [78.48913114548496, 17.360452207491953],
                  [78.47865980149082, 17.367824931276036],
                  [78.46904676438145, 17.365039714935428]]]),
            {
              "LULC": 2,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.52440999466553, 17.369298127731277],
                  [78.5241525026001, 17.36520223963366],
                  [78.53196309525147, 17.367250195129298],
                  [78.53179143387452, 17.371264121488586]]]),
            {
              "LULC": 2,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.54685708437749, 17.35102730984982],
                  [78.55037614260503, 17.34512861406922],
                  [78.55209275637456, 17.349143024874607]]]),
            {
              "LULC": 2,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.56509785373997, 17.326215021446362],
                  [78.56475453098606, 17.323101423635112],
                  [78.56814484318089, 17.32224107809129],
                  [78.56724362095188, 17.325559531556525]]]),
            {
              "LULC": 2,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.56338149296874, 17.40595259736174],
                  [78.56385356175537, 17.400547088569756],
                  [78.56724387395019, 17.40099755374085],
                  [78.56724387395019, 17.403741272176664]]]),
            {
              "LULC": 2,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.53192909151616, 17.439227839874363],
                  [78.53879554659429, 17.435051630944873],
                  [78.53416068941655, 17.44111119693141]]]),
            {
              "LULC": 2,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.5711473895754, 17.48055356461033],
                  [78.57252068059103, 17.477278857631806],
                  [78.57561058537618, 17.480799165257764]]]),
            {
              "LULC": 2,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.41892549515765, 17.380159651550933],
                  [78.41592142106097, 17.374098064138032],
                  [78.42141458512347, 17.37377040504758]]]),
            {
              "LULC": 2,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.2629907806767, 17.534303711885027],
                  [78.26432115634809, 17.530661674489263],
                  [78.26822645267377, 17.53262592846265],
                  [78.26269037326703, 17.536881739086773]]]),
            {
              "LULC": 2,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.28445617197269, 17.51318455638924],
                  [78.28445617197269, 17.507782228116433],
                  [78.28728858469242, 17.506881824447458],
                  [78.2877177381348, 17.511793062958212]]]),
            {
              "LULC": 2,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.29968130785629, 17.48043279985576],
                  [78.30547487932846, 17.481374267828652],
                  [78.30706274706527, 17.483420920526306],
                  [78.30504572588607, 17.48370745006646],
                  [78.30255663592025, 17.48231573092943],
                  [78.3003679533641, 17.481415201108256],
                  [78.29912340838119, 17.48292972597888],
                  [78.29882300097152, 17.480924001145123]]]),
            {
              "LULC": 2,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.41560580890068, 17.45046319715147],
                  [78.42127063434013, 17.448989342795205],
                  [78.42075565020927, 17.451609520078076],
                  [78.41268756549248, 17.455048445596685]]]),
            {
              "LULC": 2,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.41935270087005, 17.50314409180649],
                  [78.42192762152435, 17.49954235840181],
                  [78.42347257391692, 17.50494493173469],
                  [78.41986768500091, 17.506090911485384]]]),
            {
              "LULC": 2,
              "system:index": "19"
            })]),
    UrbanGreenSpace = /* color: #0000ff */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[78.32426773192743, 17.467605643399395],
                  [78.3167146313415, 17.459581935966792],
                  [78.32649932982783, 17.460728201527438]]]),
            {
              "LULC": 3,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.33648002045743, 17.4528582774744],
                  [78.34120070832364, 17.44041218523391],
                  [78.34514891999356, 17.44688098395599],
                  [78.33708083527677, 17.451957601953115]]]),
            {
              "LULC": 3,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.27965188128374, 17.43779184703554],
                  [78.28385758501909, 17.429193597953198],
                  [78.28548836810015, 17.435744681626403]]]),
            {
              "LULC": 3,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.32792346896724, 17.42269448932002],
                  [78.32972591342525, 17.41614293727352],
                  [78.3376223367651, 17.422530703383625],
                  [78.3284384530981, 17.425642611048996]]]),
            {
              "LULC": 3,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.38761787757305, 17.37766053142449],
                  [78.4010074649754, 17.37995408401398],
                  [78.39276771888164, 17.38486874279389]]]),
            {
              "LULC": 3,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.4076570726103, 17.319995480851],
                  [78.40044729477827, 17.316390135452536],
                  [78.40782873398726, 17.312456950710384],
                  [78.42276327378218, 17.312620835088417],
                  [78.42293493515913, 17.31835669625753],
                  [78.41212026841109, 17.322125878969793]]]),
            {
              "LULC": 3,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.58408699836463, 17.33998520940437],
                  [78.58752022590369, 17.333102965041146],
                  [78.59490166511267, 17.34293466369621],
                  [78.5852886280033, 17.34391780459069]]]),
            {
              "LULC": 3,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.6072612842533, 17.321304231614718],
                  [78.59850655402869, 17.317698911896347],
                  [78.60451470222205, 17.314749052238106]]]),
            {
              "LULC": 3,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.52531376634096, 17.406682716230616],
                  [78.53509846482729, 17.40307907585829],
                  [78.53561344895814, 17.416838047671288],
                  [78.52050724778627, 17.413070813160775]]]),
            {
              "LULC": 3,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.41344173727079, 17.419690338664363],
                  [78.42631634054227, 17.416742120829163],
                  [78.42871959981962, 17.42067306736588],
                  [78.41481502828641, 17.424276360686743]]]),
            {
              "LULC": 3,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.5798894550351, 17.46647116496018],
                  [78.58924500007905, 17.464588069965952],
                  [78.58993164558686, 17.46851798525757],
                  [78.58049026985444, 17.470155424928198]]]),
            {
              "LULC": 3,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.54351591108725, 17.50065437671451],
                  [78.55021070478843, 17.500245086814992],
                  [78.54875158308433, 17.50270081238339],
                  [78.5444600486605, 17.50360123677574]]]),
            {
              "LULC": 3,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.54341051675127, 17.530295194669524],
                  [78.54341051675127, 17.52841276084744],
                  [78.54465506173418, 17.528576451520497],
                  [78.54461214638994, 17.531031793890783],
                  [78.54328177071855, 17.53209576526252]]]),
            {
              "LULC": 3,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.41067642515006, 17.542044695945943],
                  [78.41376632993521, 17.53746164164767],
                  [78.42526764219107, 17.53255109776669],
                  [78.4211477691442, 17.542044695945943],
                  [78.41754288022818, 17.550392104215007]]]),
            {
              "LULC": 3,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.36319349835648, 17.5102039260591],
                  [78.37134741376175, 17.5102039260591],
                  [78.37246321271195, 17.51298692661296],
                  [78.36319349835648, 17.513396187802847]]]),
            {
              "LULC": 3,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.40083467907073, 17.470941017446957],
                  [78.4104477161801, 17.471268502200573],
                  [78.41061937755705, 17.476835652864924],
                  [78.40126383251311, 17.47609883387832]]]),
            {
              "LULC": 3,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.35833956723307, 17.452629317718337],
                  [78.36323191647624, 17.453038714725416],
                  [78.36984087948893, 17.454676293556545],
                  [78.3582537365446, 17.45500380755686]]]),
            {
              "LULC": 3,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.37518769411191, 17.48847927186077],
                  [78.37531644014463, 17.484549787623163],
                  [78.37823468355283, 17.486719200876884]]]),
            {
              "LULC": 3,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.2916281507962, 17.46083489767596],
                  [78.29626300797393, 17.458051099004432],
                  [78.30072620377472, 17.46558363251216],
                  [78.29763629898956, 17.472297149771553]]]),
            {
              "LULC": 3,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.44181408620226, 17.3191576907969],
                  [78.44559063649523, 17.315552328960454],
                  [78.44876637196886, 17.321288098630458],
                  [78.44198574757921, 17.323418481759553]]]),
            {
              "LULC": 3,
              "system:index": "19"
            })]),
    AquaVegetation = /* color: #999900 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[78.4528746561866, 17.446369862069275],
                  [78.45424794720222, 17.44211193248321],
                  [78.45510625408699, 17.44575574374619]]]),
            {
              "LULC": 4,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.55237382426644, 17.382451511275153],
                  [78.56301682963753, 17.388103280363485],
                  [78.57331651225472, 17.3912976813235],
                  [78.57074159160042, 17.394819648494217],
                  [78.56816667094613, 17.39219865612464],
                  [78.56378930583382, 17.392362469248074],
                  [78.55821031108285, 17.388594730295406]]]),
            {
              "LULC": 4,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.56944099330964, 17.384548848445142],
                  [78.57566371822419, 17.384876488244117],
                  [78.57210174465241, 17.38622799621423],
                  [78.56386199855866, 17.3846717134385],
                  [78.56467739009919, 17.38274681906581]]]),
            {
              "LULC": 4,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.57531353207871, 17.40410847138666],
                  [78.57505604001328, 17.397883869374713],
                  [78.57763096066758, 17.399603846383],
                  [78.57651516171738, 17.40427227384064]]]),
            {
              "LULC": 4,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.55911426105816, 17.417680858210545],
                  [78.56126002827007, 17.41563346723634],
                  [78.56083087482769, 17.418581702968204],
                  [78.55928592243511, 17.419728226232962]]]),
            {
              "LULC": 4,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.5457743148913, 17.433764198279846],
                  [78.54766259003779, 17.433436646126843],
                  [78.54843506623408, 17.435483837435427],
                  [78.5474480133166, 17.435811385913045]]]),
            {
              "LULC": 4,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.5471995494854, 17.49709984256934],
                  [78.54737121086235, 17.496076596078858],
                  [78.55084735374565, 17.497754717300005],
                  [78.55084735374565, 17.500128618417257],
                  [78.54848700981255, 17.49767285808771]]]),
            {
              "LULC": 4,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.43224171247766, 17.36965069126756],
                  [78.43481663313196, 17.37137093364805],
                  [78.43824986067102, 17.3694049410372],
                  [78.43910816755579, 17.366046321513522],
                  [78.44099644270227, 17.36801235017083],
                  [78.43713406172083, 17.372353922039895],
                  [78.43121174421594, 17.37243583750106]]]),
            {
              "LULC": 4,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.43181255903528, 17.37956234235044],
                  [78.43490246382044, 17.37882513057421],
                  [78.43481663313196, 17.38169204858222],
                  [78.43129757490442, 17.382429248812272]]]),
            {
              "LULC": 4,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.44756161458768, 17.34514763513434],
                  [78.44936405904569, 17.349817451120987],
                  [78.44764744527616, 17.35415945404082],
                  [78.44490086324491, 17.352520974451643],
                  [78.44593083150663, 17.348588563704276]]]),
            {
              "LULC": 4,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.26970447267249, 17.535858830916855],
                  [78.27021945680335, 17.536759090828117],
                  [78.2727514621134, 17.53630896143122],
                  [78.27300895417883, 17.53692277396812],
                  [78.27112067903235, 17.537536584427006],
                  [78.26940406526282, 17.537741187451513]]]),
            {
              "LULC": 4,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.33415112338683, 17.499504757576986],
                  [78.33451590381286, 17.499627545143873],
                  [78.33530983768127, 17.499381969927136],
                  [78.33668312869689, 17.4995661513708],
                  [78.33503088794372, 17.500241481733827],
                  [78.33335718951842, 17.499709403475702],
                  [78.33421549640319, 17.498031300303182]]]),
            {
              "LULC": 4,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.40990687758315, 17.479695841721377],
                  [78.41033603102554, 17.47857016253856],
                  [78.41123725325454, 17.477690081235828],
                  [78.4117522373854, 17.477546811783682],
                  [78.41177369505752, 17.478078954894485],
                  [78.41188098341811, 17.478549695579872],
                  [78.41117288023818, 17.479409305862863],
                  [78.41102267653335, 17.480064244304963],
                  [78.41014291197646, 17.47963444121825]]]),
            {
              "LULC": 4,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.41226864596821, 17.48960677981682],
                  [78.4120326115749, 17.488890478355266],
                  [78.4131484105251, 17.488256037561555],
                  [78.41398525973774, 17.48829696929246],
                  [78.41297674914814, 17.489688642661335]]]),
            {
              "LULC": 4,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.47403877169776, 17.43410650499085],
                  [78.47401731402564, 17.431035686233315],
                  [78.47365253359962, 17.429541202410057],
                  [78.47584121615577, 17.43042151628043],
                  [78.47584121615577, 17.43365612147382]]]),
            {
              "LULC": 4,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.48585337473166, 17.318432596590267],
                  [78.48787039591086, 17.316138274552696],
                  [78.48907202554953, 17.318924233299946],
                  [78.48628252817404, 17.31986653331655]]]),
            {
              "LULC": 4,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.53604199840346, 17.38251286483715],
                  [78.54290845348159, 17.384478716702294],
                  [78.53981854869643, 17.38685409286468],
                  [78.53269460155288, 17.383905345422903],
                  [78.53415372325698, 17.381038462081438]]]),
            {
              "LULC": 4,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.5065327841928, 17.384250762302266],
                  [78.50923645087981, 17.382530640932533],
                  [78.51266967841887, 17.382080130283235],
                  [78.5111247260263, 17.384906042380965],
                  [78.50631820747161, 17.38523368154042]]]),
            {
              "LULC": 4,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.40757021216747, 17.389560395535106],
                  [78.40937265662548, 17.389928980172257],
                  [78.41246256141063, 17.391157590266108],
                  [78.41272005347606, 17.392427145360944],
                  [78.40808519629833, 17.39078900810435]]]),
            {
              "LULC": 4,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.54348118944773, 17.460140164702366],
                  [78.54425366564402, 17.459198586909924],
                  [78.54530509157786, 17.45960796915681],
                  [78.54519780321726, 17.460549544833217],
                  [78.54339535875926, 17.460570013815616]]]),
            {
              "LULC": 4,
              "system:index": "19"
            })]),
    Others = /* color: #009999 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[78.4255215993905, 17.39779861365301],
                  [78.42659448299646, 17.397593853312195],
                  [78.42891191158533, 17.399395736441953],
                  [78.42912648830652, 17.40177091889021],
                  [78.42655156765223, 17.40246708720821],
                  [78.42509244594812, 17.400951893945482],
                  [78.42637990627527, 17.400255719857537],
                  [78.42745278988123, 17.399436688124908],
                  [78.42646573696375, 17.399150026151702],
                  [78.42539285335779, 17.398453845202777]]]),
            {
              "LULC": 5,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.43272657123448, 17.387284295594835],
                  [78.43433589664342, 17.38759145333187],
                  [78.43573064533116, 17.38845149225233],
                  [78.43506545749547, 17.389147711274564],
                  [78.43349904743077, 17.388963418261817]]]),
            {
              "LULC": 5,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.30841505695898, 17.4573620845246],
                  [78.30910170246679, 17.45621579778422],
                  [78.31077540089208, 17.4553560779963],
                  [78.31094706226904, 17.456748003239127],
                  [78.30931627918798, 17.458058040812674]]]),
            {
              "LULC": 5,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.36278008255489, 17.465020678444574],
                  [78.36247967514522, 17.46362881641385],
                  [78.36385296616085, 17.463710690945412],
                  [78.36381005081661, 17.465102552350398]]]),
            {
              "LULC": 5,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.38689807932623, 17.461461975143965],
                  [78.38543895762213, 17.46023383814313],
                  [78.38715557139166, 17.459722111948913],
                  [78.38895801584967, 17.461175410584417],
                  [78.38715557139166, 17.462301197331993]]]),
            {
              "LULC": 5,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.39628521047767, 17.45131616108519],
                  [78.39601698957618, 17.45043594806381],
                  [78.39624229513343, 17.449535260571984],
                  [78.39735809408363, 17.451797205940004],
                  [78.3964354141825, 17.451930260675685]]]),
            {
              "LULC": 5,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.37908826525151, 17.477198867466594],
                  [78.37971053774297, 17.476277845105482],
                  [78.38078342134892, 17.475663827608415],
                  [78.38039718325078, 17.476605320256823],
                  [78.3803113525623, 17.47795614902689],
                  [78.37945304567754, 17.478324555132914]]]),
            {
              "LULC": 5,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.58594096488477, 17.315382240468917],
                  [78.58963168448926, 17.316160677573407],
                  [78.58808673209668, 17.31997087477625]]]),
            {
              "LULC": 5,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.47993355100992, 17.318274685910865],
                  [78.47989063566568, 17.31708655741078],
                  [78.4820364028776, 17.317168497553965],
                  [78.4820364028776, 17.318930201794792],
                  [78.47898941343668, 17.319503776274836]]]),
            {
              "LULC": 5,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.43394056134596, 17.33493150521028],
                  [78.43720212750807, 17.333743484460417],
                  [78.43737378888503, 17.3345628099383],
                  [78.43389764600172, 17.335914688981706]]]),
            {
              "LULC": 5,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.43673005872145, 17.32657423055994],
                  [78.4383608418025, 17.32616455045421],
                  [78.4391333179988, 17.32759842682602],
                  [78.43694463544264, 17.327885200756942]]]),
            {
              "LULC": 5,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.44155899178148, 17.383850436841776],
                  [78.44250312935472, 17.38266273312085],
                  [78.44315758835435, 17.38260129996013],
                  [78.44364038597703, 17.383789004079716],
                  [78.44285718094469, 17.384116645239043],
                  [78.4418701280272, 17.3839016307944]]]),
            {
              "LULC": 5,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.38955937579823, 17.468311582176256],
                  [78.39114724353504, 17.467615665067868],
                  [78.39260636523915, 17.46606007603139],
                  [78.39595376208973, 17.466223822871576],
                  [78.39578210071278, 17.468188773468054],
                  [78.39028893665028, 17.469457792791506]]]),
            {
              "LULC": 5,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.3422692426812, 17.48163565288088],
                  [78.34192591992729, 17.47983458204816],
                  [78.3463032850396, 17.479507112708454],
                  [78.34759074536674, 17.481594719650875],
                  [78.34132510510796, 17.48302737722089]]]),
            {
              "LULC": 5,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.3878016183253, 17.4487165226551],
                  [78.38801619504649, 17.447570181534616],
                  [78.38934657071788, 17.445686891187883],
                  [78.39106318448741, 17.44613724499715],
                  [78.38943240140635, 17.44740641792895],
                  [78.38827368711192, 17.449494392881302]]]),
            {
              "LULC": 5,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.35370623244783, 17.445033799092762],
                  [78.35701071395418, 17.441963164292453],
                  [78.36198889388582, 17.442495411362398],
                  [78.35980021132967, 17.447817796614096],
                  [78.35396372451326, 17.447490269700523]]]),
            {
              "LULC": 5,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.35799776687166, 17.476028147367785],
                  [78.36314760818026, 17.47316271072636],
                  [78.3699282325699, 17.47512758642748],
                  [78.36778246535799, 17.48036715124888],
                  [78.35851275100252, 17.48143141941699]]]),
            {
              "LULC": 5,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.44081011352883, 17.50500376787276],
                  [78.44098177490578, 17.503489426890344],
                  [78.44297733841286, 17.50291642971344],
                  [78.44293442306862, 17.505801861419144],
                  [78.44126072464333, 17.50547443884993]]]),
            {
              "LULC": 5,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.50253539148152, 17.51493056170146],
                  [78.50669817987263, 17.51321167303068],
                  [78.50923018518269, 17.515626297727437],
                  [78.50433783593952, 17.51771348980755]]]),
            {
              "LULC": 5,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.4680511439444, 17.494992259074955],
                  [78.47064750783079, 17.496056461782963],
                  [78.47401637679351, 17.496752249971205],
                  [78.47345847731842, 17.498389435504595],
                  [78.46629161483062, 17.496629460461683],
                  [78.46702117568267, 17.493477834663615]]]),
            {
              "LULC": 5,
              "system:index": "19"
            })]);
/***** End of imports. If edited, may not auto-convert in the playground. *****/
// Applies scaling factors.
function applyScaleFactors(image) {
  var opticalBands = image.select('SR_B.').multiply(0.0000275).add(-0.2);
  var thermalBand = image.select('ST_B6').multiply(0.00341802).add(149.0);
  return image.addBands(opticalBands, null, true)
              .addBands(thermalBand, null, true);
}
var dataset = ee.ImageCollection('LANDSAT/LT05/C02/T1_L2')
    .filterDate('1995-12-01', '1996-12-01')
    .filterBounds(aoi)
    .filterMetadata('CLOUD_COVER', 'less_than' , 10)
    .map(applyScaleFactors)
    .first();
print(dataset);
var image = dataset.clip(aoi);
Map.addLayer(image, {bands: ['SR_B4','SR_B3','SR_B2'], min:0.04, max:0.44}, 'FCC_1988');

var features = Waterbody.merge(UrbanBuiltup).merge(UrbanGreenSpace).merge(AquaVegetation).merge(Others);
print(features);
var bands = ['SR_B1', 'SR_B2', 'SR_B3','SR_B4','SR_B5', 'SR_B7'];

var training = image.select(bands).sampleRegions({
  collection: features,
  properties: ['LULC'],
  scale: 30
});

var withRandom = training.randomColumn('random');
var split = 0.7; //70% training, 30% testing

var trainingPartition = withRandom.filter(ee.Filter.lt('random', split));
var testingPartition = withRandom.filter(ee.Filter.gte('random',split));

// Train the classifier
var classifier = ee.Classifier.smileRandomForest(100).train({
  features: trainingPartition,
  classProperty: 'LULC',
  inputProperties: bands});
  
  //Classify the input imagery
var final = image.classify(classifier);

var color = ['495bd6', 'd63000', '20e122', '215d1b', 'ffc82d' ];
Map.addLayer(final, {min:1, max: 5, palette: color, }, 'Land use 1995');
Map.centerObject(aoi, 11);

//Accuracy Assessment

var accuracyClassifier = ee.Classifier.smileRandomForest(100).train({
  features: testingPartition,
  classProperty:'LULC',
  inputProperties: bands
});

//Classify the test FeatureCollection
var test = testingPartition.classify(accuracyClassifier);

//Calculate confusiion matrix
var confusionMatrix = test.errorMatrix('LULC', 'classification');
print('Confusion Matrix', confusionMatrix);

//Claculate overall accuracy
var OA = confusionMatrix.accuracy();
print("Overall accuracy", OA);

//calculate consumers accuracy, also known as user's accuracy or
//specificity and the complement of comission error(1-comission error).
print("Consumer's accuracy", confusionMatrix.consumersAccuracy());


//Claculate producers accuracy also known as sensitivity and the
//compliment of omission error(1-omission error).

print("Producer's accuracy", confusionMatrix.producersAccuracy());

//calculate kappa statistic
print('kappa statistic', confusionMatrix.kappa());

// Calculation area fror each class (of classified)

var classes_area = ee.Image.pixelArea().addBands(final).divide(1e6).reduceRegion({
  reducer: ee.Reducer.sum().group(1), geometry: aoi, scale: 30, bestEffort:true});
  
print("All Classes Area in Sqare Km", classes_area);

Export.image.toDrive({
   image: final,
  description: 'LULC_1995',
  folder: 'LandCover',
  region:aoi,
  crs: 'EPSG:32644',
  scale: 30,
  fileFormat: 'GeoTIFF',
  maxPixels:1e12
});


    //Adding the Legend
    
var panel = ui.Panel({
  style: {
    position: 'bottom-left',
    padding: '5px;'
  }
})

var title = ui.Label({
  value: 'Greater Hyderabad Municipal Corporation 1995',
  style: {
    fontSize: '14px',
    fontWeight: 'bold',
    margin: '0px;'
  }
})

panel.add(title)

var color = ['495bd6', 'd63000', '20e122', '215d1b', 'ffc82d']
var lc_class = ['Waterbody', 'Urban Builtup', 'Urban Green Space', 'Aqua Vegetation', 'Others']
var list_legend = function(color, description) {
  
  var c = ui.Label({
    style: {
      backgroundColor: color,
      padding: '10px',
      margin: '4px'
    }
  })
  
  var ds = ui.Label({
    value: description,
    style: {
      margin: '5px'
    }
  })
  
  return ui.Panel({
    widgets: [c, ds],
    layout: ui.Panel.Layout.Flow('horizontal')
  })
}

for(var a = 0; a < 5; a++){
  panel.add(list_legend(color[a], lc_class[a]))
}

Map.add(panel)
