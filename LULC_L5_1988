/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var aoi = ee.FeatureCollection("users/b171905/Study_Area"),
    Waterbody = 
    /* color: #98ff00 */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[78.46376552947349, 17.426303640615057],
                  [78.47372188933677, 17.41401953052092],
                  [78.47955837615318, 17.423683099807057]]]),
            {
              "LULC": 1,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.35087554697334, 17.497849236174808],
                  [78.34967391733467, 17.49604832592424],
                  [78.35181968454658, 17.49604832592424]]]),
            {
              "LULC": 1,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.35327880625069, 17.493838093502063],
                  [78.35645454172432, 17.491791558039058],
                  [78.3579994941169, 17.491709696141346],
                  [78.35405128244697, 17.49441111930316]]]),
            {
              "LULC": 1,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.36048858408272, 17.49097293740335],
                  [78.36014526132881, 17.489663136719894],
                  [78.3620335364753, 17.489417548041356]]]),
            {
              "LULC": 1,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.32873122934639, 17.50145100313859],
                  [78.3290745521003, 17.497358080603455],
                  [78.33182113413154, 17.4985041082052]]]),
            {
              "LULC": 1,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.41308938572266, 17.53343137383392],
                  [78.41600762913086, 17.531794504269527],
                  [78.4169517667041, 17.53294031451584],
                  [78.41300355503418, 17.53424980307583]]]),
            {
              "LULC": 1,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.46596108982422, 17.52434656124077],
                  [78.47265588352539, 17.520581550623465],
                  [78.47231256077148, 17.525328725076307],
                  [78.4649311215625, 17.526965652987403]]]),
            {
              "LULC": 1,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.55252406920557, 17.42067055125745],
                  [78.55458400572901, 17.42067055125745],
                  [78.55475566710597, 17.421980847983654],
                  [78.55226657714014, 17.422226527573017]]]),
            {
              "LULC": 1,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.440343833195, 17.34645906731678],
                  [78.44214627765301, 17.3435096696836],
                  [78.4458369972575, 17.341379519681947],
                  [78.44394872211102, 17.345557867515428],
                  [78.43751142047527, 17.3505553742451]]]),
            {
              "LULC": 1,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.52625311440208, 17.355182822338275],
                  [78.52882803505638, 17.352233564997043],
                  [78.52968634194114, 17.35632974293647],
                  [78.52513731545189, 17.35739473420979]]]),
            {
              "LULC": 1,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.57927418545981, 17.403814769970523],
                  [78.57867337064047, 17.402340538910693],
                  [78.57987500027915, 17.402012930393923],
                  [78.58030415372153, 17.403405262535415]]]),
            {
              "LULC": 1,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.56127488367154, 17.38464868544977],
                  [78.56251942865445, 17.385467783400454],
                  [78.56331336252286, 17.38585685364267],
                  [78.56442916147306, 17.385774944186746],
                  [78.56541621439054, 17.385693034694146],
                  [78.56659638635709, 17.385815898919283],
                  [78.56775510065152, 17.386184491099755],
                  [78.56887089960172, 17.38655308253777],
                  [78.56962191812589, 17.386860241502266],
                  [78.57054459802701, 17.38708549108187],
                  [78.57161808275076, 17.387474557884417],
                  [78.57307720445486, 17.387822669585436],
                  [78.57470798753592, 17.387781715302044],
                  [78.57608127855154, 17.388232211915174],
                  [78.57769060396048, 17.388907954755037],
                  [78.5796217944512, 17.389256063728823],
                  [78.57867765687796, 17.3899113258826],
                  [78.57691812776419, 17.38937892556142],
                  [78.57560920976492, 17.388641753328187],
                  [78.5740213420281, 17.388559845118913],
                  [78.57254076265188, 17.38812982641867],
                  [78.57116747163626, 17.387617898076808],
                  [78.56980421688378, 17.38718127143912],
                  [78.56830217983544, 17.386648863173715],
                  [78.56660702373803, 17.386136930688377],
                  [78.56482603695214, 17.38617788533991],
                  [78.56368878032983, 17.386259794615487],
                  [78.56323816921532, 17.386566954072308],
                  [78.5625300660354, 17.38615740801529],
                  [78.56171467449487, 17.385645474155037],
                  [78.56070616390527, 17.385113061421105],
                  [78.56055596020043, 17.3842939618827]]]),
            {
              "LULC": 1,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.49285624326151, 17.379501073698197],
                  [78.4937360078184, 17.379726332335267],
                  [78.49470160306376, 17.380094936779866],
                  [78.49590323270243, 17.380832143442326],
                  [78.49560282529276, 17.381426002205654],
                  [78.4951951295225, 17.38122122353939],
                  [78.49442265332621, 17.380811665519555],
                  [78.49337122739237, 17.380115414782786],
                  [78.49210522473734, 17.379951590695157]]]),
            {
              "LULC": 1,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.42255914110999, 17.36883692867378],
                  [78.42255914110999, 17.36932843032891],
                  [78.42195832629065, 17.369574180661925],
                  [78.42170083422522, 17.37027047148162],
                  [78.42240893740515, 17.370188555051975],
                  [78.42264497179846, 17.369778972354244],
                  [78.42352473635535, 17.369615139018705],
                  [78.42421138186316, 17.369901847259722],
                  [78.42461907763342, 17.369717534870585],
                  [78.42464053530554, 17.369144117362772],
                  [78.42388951678137, 17.368857407935728],
                  [78.42427575487952, 17.368263508409328],
                  [78.42479073901038, 17.368652615213104],
                  [78.42543446917395, 17.36949226392089],
                  [78.426164030026, 17.370209034162823],
                  [78.427065252255, 17.37016807593884],
                  [78.42734420199255, 17.369717534870585],
                  [78.427065252255, 17.36898028345942],
                  [78.42764460940222, 17.36766960695746],
                  [78.42876040835242, 17.368673094495662],
                  [78.42878186602454, 17.369778972354244],
                  [78.42856728930334, 17.371007717699786],
                  [78.4272798289762, 17.370311429682705],
                  [78.42680776018958, 17.370884843536174],
                  [78.42521989245276, 17.37086436450089],
                  [78.42517697710852, 17.370004242951342],
                  [78.4241470088468, 17.3701066385857],
                  [78.42253768343787, 17.37065957402212],
                  [78.4207781543241, 17.370495741474237],
                  [78.42086398501257, 17.36959465984146],
                  [78.4215720881925, 17.368795970142987],
                  [78.4222372760282, 17.3680791943717]]]),
            {
              "LULC": 1,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.3897944350455, 17.435777398448394],
                  [78.38902195884921, 17.43143733258734],
                  [78.3879919905875, 17.427834180620767],
                  [78.39005192711093, 17.428653085041507],
                  [78.39082440330722, 17.43315699367338],
                  [78.39142521812656, 17.435695511368866]]]),
            {
              "LULC": 1,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.43311572446245, 17.5483813824129],
                  [78.43311572446245, 17.546662810720434],
                  [78.43157077206988, 17.544616870787017],
                  [78.43062663449663, 17.542734585648358],
                  [78.42822337521929, 17.540361241741767],
                  [78.4263351000728, 17.53725129579484],
                  [78.42951083554644, 17.536596563534587],
                  [78.42993998898882, 17.538397071561054],
                  [78.43139911069292, 17.542079873191803],
                  [78.43225741757769, 17.54379848834618],
                  [78.4340598620357, 17.545926275005414],
                  [78.43457484616656, 17.547808526993204],
                  [78.43448901547808, 17.548954236021395],
                  [78.43397403134722, 17.5500999378046],
                  [78.4332873858394, 17.550836456553522]]]),
            {
              "LULC": 1,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.4134779391058, 17.510855572182322],
                  [78.41326336238461, 17.509750549392407],
                  [78.4140358385809, 17.509709622493276],
                  [78.4151516375311, 17.509218498984428],
                  [78.41497997615414, 17.509627768667364],
                  [78.41485123012143, 17.51052815872331],
                  [78.41540912959653, 17.511551323822673],
                  [78.4166107592352, 17.5116741032472],
                  [78.41682533595639, 17.512001514640087],
                  [78.41519455287533, 17.51208336739606],
                  [78.41485123012143, 17.5126563356548],
                  [78.41425041530209, 17.511387617794167]]]),
            {
              "LULC": 1,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.44558759588722, 17.494893870585095],
                  [78.4471325482798, 17.493584098149594],
                  [78.44794793982032, 17.49587619371845],
                  [78.4456734265757, 17.496121773672293]]]),
            {
              "LULC": 1,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.47367790440211, 17.50293210296063],
                  [78.4755661795486, 17.504241808025125],
                  [78.47595241764674, 17.506247275606793],
                  [78.47363498905787, 17.50542872008429]]]),
            {
              "LULC": 1,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.413290517201, 17.465530964597736],
                  [78.41380550133186, 17.461600984843923],
                  [78.4169812368055, 17.46053660073391],
                  [78.41663791405159, 17.465367217134506]]]),
            {
              "LULC": 1,
              "system:index": "19"
            })]),
    UrbanBuiltup = 
    /* color: #0b4a8b */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[78.48922564014337, 17.44006539646333],
                  [78.49042726978205, 17.43318691533477],
                  [78.49892450794123, 17.435807319680027],
                  [78.492401375617, 17.437854484386225]]]),
            {
              "LULC": 2,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.44903025826328, 17.460965041337676],
                  [78.45036063393466, 17.458263121635156],
                  [78.45375094612949, 17.457280595444075],
                  [78.45280680855625, 17.460187220076605],
                  [78.44855818947666, 17.463994418799157]]]),
            {
              "LULC": 2,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.26372865810302, 17.536186809011433],
                  [78.26218370571044, 17.53340416424208],
                  [78.26591734065917, 17.531685450553802],
                  [78.26510194911864, 17.53524562511836]]]),
            {
              "LULC": 2,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.3784164224934, 17.469307097534077],
                  [78.38142049659008, 17.467628713862528],
                  [78.384467486031, 17.465459073019417],
                  [78.3827937876057, 17.469184289497395],
                  [78.3780730997395, 17.4709445301073]]]),
            {
              "LULC": 2,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.44082673080865, 17.433205519478165],
                  [78.44151337631646, 17.43132208080149],
                  [78.44258625992242, 17.43283702213636],
                  [78.44589074142877, 17.433328351760046],
                  [78.44923813827936, 17.434351950893284],
                  [78.4476073551983, 17.435866867071315],
                  [78.44443161972467, 17.433492128007266],
                  [78.44370205887262, 17.434802332692637],
                  [78.44138463028375, 17.434802332692637]]]),
            {
              "LULC": 2,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.48883178166906, 17.391098849410195],
                  [78.49020507268469, 17.384382344677512],
                  [78.49569823674719, 17.388313987125063],
                  [78.49569823674719, 17.39503034751956]]]),
            {
              "LULC": 2,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.46096975884085, 17.395644636465327],
                  [78.46088392815237, 17.39408843379534],
                  [78.46230013451223, 17.389952146544438],
                  [78.4637163408721, 17.38978833126257],
                  [78.4655187853301, 17.388518757854648],
                  [78.46689207634573, 17.39036168410734],
                  [78.46667749962454, 17.392573171104054],
                  [78.46431715569143, 17.39113980295104],
                  [78.46255762657766, 17.392655077516405],
                  [78.46217138847952, 17.394743678638758],
                  [78.46307261070852, 17.397037017103195],
                  [78.46131308159475, 17.39679130364335]]]),
            {
              "LULC": 2,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.44215880007151, 17.388313987125063],
                  [78.44400415987376, 17.3881501703764],
                  [78.44267378420237, 17.385119534071034],
                  [78.44387541384104, 17.385610992016883],
                  [78.44627867311839, 17.382907956981878],
                  [78.44614992708567, 17.385488127654153],
                  [78.44726572603587, 17.38495571446244],
                  [78.45001230806712, 17.386921540086238],
                  [78.44636450380686, 17.387945399234297],
                  [78.44778071016673, 17.3911807564827],
                  [78.444047075218, 17.389542608064737],
                  [78.4423733767927, 17.39068931349757]]]),
            {
              "LULC": 2,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.46752070154874, 17.37214017063423],
                  [78.47988032068936, 17.37558059247088],
                  [78.47726248469083, 17.380290588964318],
                  [78.46722029413907, 17.37496623616927]]]),
            {
              "LULC": 2,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.46547384874361, 17.36320489337873],
                  [78.46976538316744, 17.361074972164207],
                  [78.47324152605074, 17.36672740105672],
                  [78.46616049425143, 17.365334789836492]]]),
            {
              "LULC": 2,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.57030369612418, 17.328559825009364],
                  [78.57163407179557, 17.325937884888802],
                  [78.57395150038444, 17.327494666350077],
                  [78.57283570143424, 17.3295840102014]]]),
            {
              "LULC": 2,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.5470671459555, 17.34596211661887],
                  [78.55080078090423, 17.34538862479481],
                  [78.55221698726409, 17.349771695362048],
                  [78.54783962215178, 17.349607844141364]]]),
            {
              "LULC": 2,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.52192534248445, 17.36845034582743],
                  [78.52471483985994, 17.365910894242234],
                  [78.53020800392244, 17.368818972970363],
                  [78.52188242714021, 17.370088683006745]]]),
            {
              "LULC": 2,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.53646437355417, 17.43673055093687],
                  [78.54118506142038, 17.434478654622573],
                  [78.54363123604196, 17.437467529147856],
                  [78.53693644234079, 17.43869581954943]]]),
            {
              "LULC": 2,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.57085478301394, 17.47907564889355],
                  [78.57274305816043, 17.477683894324326],
                  [78.57523214812625, 17.48128606074034],
                  [78.57008230681765, 17.48063112669655],
                  [78.56630575652468, 17.47383604688505]]]),
            {
              "LULC": 2,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.49783584840678, 17.398767800710196],
                  [78.49938080079936, 17.40220772191581],
                  [78.49526092775248, 17.402043917611792]]]),
            {
              "LULC": 2,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.49989257713906, 17.414161978818374],
                  [78.50272498985879, 17.41309731786576],
                  [78.50469909569375, 17.41473525522275],
                  [78.50212417503946, 17.415718010587277]]]),
            {
              "LULC": 2,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.4927279007893, 17.41978642169872],
                  [78.49624695901684, 17.418230424590813],
                  [78.4964186203938, 17.421506192550613],
                  [78.49332871560864, 17.4214242990678]]]),
            {
              "LULC": 2,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.45693650369458, 17.40782947192685],
                  [78.45933976297192, 17.406437173487358],
                  [78.45951142434888, 17.408894163576157],
                  [78.45599236612134, 17.409303658712574]]]),
            {
              "LULC": 2,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.51211597128065, 17.427307519894356],
                  [78.51426173849256, 17.426406718188748],
                  [78.51512004537733, 17.429027219896433],
                  [78.51263095541151, 17.430583124983333]]]),
            {
              "LULC": 2,
              "system:index": "19"
            })]),
    UrbanGreenSpace = 
    /* color: #ffc82d */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[78.32278702464757, 17.471722114938537],
                  [78.31042740550694, 17.45894980490413],
                  [78.32244370189366, 17.446504128607625],
                  [78.34166977611241, 17.442573738490886],
                  [78.34012482371983, 17.448305529094682],
                  [78.32398865428624, 17.44945186559091],
                  [78.31969711986241, 17.46107858544864],
                  [78.32364533153233, 17.46631855463775]]]),
            {
              "LULC": 3,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.40645499799578, 17.407589135680446],
                  [78.40010352704851, 17.402347479464996],
                  [78.40018935773699, 17.398579946220554],
                  [78.40688415143816, 17.400627528267446],
                  [78.40705581281512, 17.40521402883284]]]),
            {
              "LULC": 3,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.39206684620382, 17.3873605974477],
                  [78.38245380909444, 17.38383848667896],
                  [78.3840845921755, 17.379824835961642],
                  [78.39198101551534, 17.38351084502165]]]),
            {
              "LULC": 3,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.38730079132446, 17.324252419648108],
                  [78.39554053741821, 17.319745831264797],
                  [78.40300780731567, 17.323678859993837],
                  [78.40489608246216, 17.327038255349315],
                  [78.39511138397583, 17.325973087864856],
                  [78.39030486542114, 17.32449823038025]]]),
            {
              "LULC": 3,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.41983062225708, 17.32187623227851],
                  [78.42146140533814, 17.315812718342467],
                  [78.42609626251587, 17.317615405548548]]]),
            {
              "LULC": 3,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.43416632021125, 17.332507042853056],
                  [78.4409469446009, 17.329721290115447],
                  [78.4449809869593, 17.332507042853056],
                  [78.44223440492804, 17.334965024871536],
                  [78.43940199220832, 17.33332637384933]]]),
            {
              "LULC": 3,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.44754418131866, 17.356198613316593],
                  [78.44110687968292, 17.351856658685318],
                  [78.44737251994171, 17.34661340662498],
                  [78.44917496439972, 17.352102432447506]]]),
            {
              "LULC": 3,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.41534790661811, 17.420219448610812],
                  [78.42358765271186, 17.416452283845093],
                  [78.42667755749702, 17.421529748574102],
                  [78.41586289074897, 17.425460592044335]]]),
            {
              "LULC": 3,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.5261309579144, 17.41095641660891],
                  [78.53376988918882, 17.41234868061417],
                  [78.53394155056577, 17.41668920028931],
                  [78.52733258755308, 17.416115930017398],
                  [78.52424268276792, 17.41177539672044],
                  [78.52604512722593, 17.408417554934324]]]),
            {
              "LULC": 3,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.54834793854234, 17.40915333855016],
                  [78.55006455231187, 17.402765104673712],
                  [78.55555771637437, 17.402027986397304],
                  [78.54980706024644, 17.407269651774993]]]),
            {
              "LULC": 3,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.57549516912918, 17.358002957014744],
                  [78.57669679876786, 17.35030213707085],
                  [78.58356325384598, 17.349319030394415],
                  [78.58150331732254, 17.358002957014744]]]),
            {
              "LULC": 3,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.61525609956195, 17.332191839632447],
                  [78.60967710481097, 17.33047122968435],
                  [78.61173704133441, 17.323670565910827],
                  [78.61568525300433, 17.328668668635395]]]),
            {
              "LULC": 3,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.49730063035858, 17.327981795194813],
                  [78.49918890550506, 17.321508792290444],
                  [78.49918890550506, 17.316756315844806],
                  [78.5063986833371, 17.32036165405846],
                  [78.50536871507538, 17.32642501786285],
                  [78.4994463975705, 17.326752761555728]]]),
            {
              "LULC": 3,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.5409623500344, 17.49668135542607],
                  [78.54748548235862, 17.496435776228292],
                  [78.55109037127464, 17.500774293202323],
                  [78.54619802203148, 17.50339372499935],
                  [78.54147733416526, 17.50134729713472]]]),
            {
              "LULC": 3,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.47799713575625, 17.51958568550142],
                  [78.47842628919864, 17.51524761784795],
                  [78.484434437392, 17.514920212308468],
                  [78.48323280775332, 17.524087344197167]]]),
            {
              "LULC": 3,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.52308277768681, 17.401446884522553],
                  [78.52977757138798, 17.39989073123224],
                  [78.53200916928837, 17.404559151363703],
                  [78.52471356076786, 17.40496865621367]]]),
            {
              "LULC": 3,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.27679731457985, 17.43319455093906],
                  [78.28289129346169, 17.426152028093036],
                  [78.28023054211891, 17.43753457499975],
                  [78.27525236218727, 17.43712514317838]]]),
            {
              "LULC": 3,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.41076402609592, 17.3628058107734],
                  [78.41024904196506, 17.356334036333088],
                  [78.41505556051975, 17.358545934313952],
                  [78.41385393088107, 17.364935711870057],
                  [78.40904741232639, 17.36583681641933]]]),
            {
              "LULC": 3,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.58252475512501, 17.33785055680715],
                  [78.58793208849903, 17.33596613649393],
                  [78.58896205676075, 17.342930202139055],
                  [78.58458469164844, 17.34489647870732]]]),
            {
              "LULC": 3,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.59910247029381, 17.317610762082396],
                  [78.60588309468346, 17.316381659056265],
                  [78.60588309468346, 17.320150882284036],
                  [78.5998749464901, 17.320560575802002]]]),
            {
              "LULC": 3,
              "system:index": "19"
            })]),
    AquaVegetation = 
    /* color: #00ffff */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[78.56582995530866, 17.3885359615561],
                  [78.57715960618756, 17.394597070779422],
                  [78.57612963792585, 17.398118974414082],
                  [78.56728907701276, 17.392795140367074],
                  [78.55389948961042, 17.389846488675015],
                  [78.55450030442975, 17.38419477342859]]]),
            {
              "LULC": 4,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.57329722520612, 17.38452241386148],
                  [78.57638712999128, 17.384112863228722],
                  [78.57879038926862, 17.387798785926392],
                  [78.57303973314069, 17.385996788550287]]]),
            {
              "LULC": 4,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.55070455663444, 17.423541094189357],
                  [78.55302198522331, 17.423336362695274],
                  [78.55478151433708, 17.422722166835534],
                  [78.55392320745231, 17.42448285610504],
                  [78.55070455663444, 17.424810424328243],
                  [78.54997499578239, 17.424114341151377],
                  [78.55001791112663, 17.42186228916073]]]),
            {
              "LULC": 4,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.52004915458937, 17.378489607181226],
                  [78.52236658317824, 17.378243868812376],
                  [78.5287180541255, 17.37758856488285],
                  [78.53026300651808, 17.378489607181226],
                  [78.52700144035597, 17.380946972726964],
                  [78.5254564879634, 17.379800206244074],
                  [78.52210909111281, 17.378653432577195],
                  [78.51927667839308, 17.379800206244074]]]),
            {
              "LULC": 4,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.43271642906447, 17.383404305283072],
                  [78.43160063011427, 17.382216598667],
                  [78.43280225975295, 17.38090601690486],
                  [78.43481928093215, 17.381520353274276],
                  [78.43717962486525, 17.382626153543175],
                  [78.43632131798049, 17.383527171044825],
                  [78.43477636558791, 17.383568126280412],
                  [78.43550592643996, 17.38233946522608],
                  [78.43314558250685, 17.38184799849488]]]),
            {
              "LULC": 4,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.4842452823092, 17.319088611981886],
                  [78.48596189607873, 17.31802339840129],
                  [78.48720644106164, 17.31646653667573],
                  [78.48720644106164, 17.31753175928135],
                  [78.4859189807345, 17.31843309666309],
                  [78.48707769502893, 17.31994897228874],
                  [78.48467443575159, 17.319334429623506]]]),
            {
              "LULC": 4,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.57639358742931, 17.326638578258077],
                  [78.57819603188732, 17.326065026055147],
                  [78.58029888375499, 17.32540953562998],
                  [78.58111427529552, 17.32610599412904],
                  [78.57875393136241, 17.32721212866982],
                  [78.5766081641505, 17.327007289442676]]]),
            {
              "LULC": 4,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.45086584740484, 17.447611621403862],
                  [78.45202456169928, 17.44699750726368],
                  [78.45318327599371, 17.445523624887066],
                  [78.45494280510748, 17.444418205285466],
                  [78.45515738182867, 17.446178685192134],
                  [78.45309744530523, 17.447365975996036],
                  [78.45095167809332, 17.448225733475297]]]),
            {
              "LULC": 4,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.26751028795084, 17.537641080797375],
                  [78.26605116624674, 17.536761285668014],
                  [78.26607262391886, 17.535063064391956],
                  [78.26718842286905, 17.535656420621475],
                  [78.26720988054117, 17.536822666862097]]]),
            {
              "LULC": 4,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.29163961347957, 17.51073525950115],
                  [78.29296998915096, 17.508463814967275],
                  [78.29419307646175, 17.508995867586094],
                  [78.29241208967586, 17.510632942790842]]]),
            {
              "LULC": 4,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.39899424461665, 17.47129796101336],
                  [78.39923027900996, 17.471809654678605],
                  [78.39978817848505, 17.472270076252606],
                  [78.40036753563227, 17.471696980700433],
                  [78.40071085838618, 17.472208673244022],
                  [78.40000275520624, 17.472618026243257],
                  [78.39923027900996, 17.472843170000434],
                  [78.39899424461665, 17.47233147924046],
                  [78.39888695625605, 17.471451367768587]]]),
            {
              "LULC": 4,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.44255906070111, 17.496232397981387],
                  [78.44352465594648, 17.49513751879562],
                  [78.44460826838849, 17.496007283173387],
                  [78.44427567447065, 17.49650867486471],
                  [78.44284873927472, 17.497030530054072]]]),
            {
              "LULC": 4,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.49384944661628, 17.497416829050717],
                  [78.49608104451667, 17.49721218057038],
                  [78.49590938313972, 17.49938144273693],
                  [78.49346320851814, 17.499258655003747]]]),
            {
              "LULC": 4,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.56982745102918, 17.407538277454478],
                  [78.56708086899793, 17.40831632320207],
                  [78.56660880021131, 17.406432627799063],
                  [78.56987036637342, 17.405695524312684],
                  [78.5734323399452, 17.40434416020014],
                  [78.57605017594373, 17.402460423858063],
                  [78.57660807541883, 17.404016555274264],
                  [78.5748914616493, 17.406432627799063],
                  [78.57137240342176, 17.407087828402332]]]),
            {
              "LULC": 4,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.5478844082979, 17.436086782246104],
                  [78.54578155643023, 17.433834877985444],
                  [78.5469831860689, 17.433015996817577],
                  [78.54749817019976, 17.434571867894196]]]),
            {
              "LULC": 4,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.54123401290788, 17.383640347862855],
                  [78.54423808700456, 17.38560618761692],
                  [78.53977489120378, 17.38724437128001],
                  [78.537114139861, 17.385851916101316]]]),
            {
              "LULC": 4,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.50574396569827, 17.38607626549634],
                  [78.50904844720462, 17.38607626549634],
                  [78.50917719323733, 17.386772493556588],
                  [78.50643061120608, 17.386936311538726]]]),
            {
              "LULC": 4,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.41210421588941, 17.376793111192423],
                  [78.41276940372511, 17.376199237400147],
                  [78.41317709949537, 17.377612244296774],
                  [78.41201838520094, 17.37765320085579]]]),
            {
              "LULC": 4,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.54085829786096, 17.4509289152684],
                  [78.54210284284387, 17.449496005133007],
                  [78.54163077405725, 17.447530852916067],
                  [78.54266074231897, 17.4460979160695],
                  [78.5434761338595, 17.447858379756727],
                  [78.54231741956507, 17.450110110856105],
                  [78.54128745130335, 17.451583956149808]]]),
            {
              "LULC": 4,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.54433444074427, 17.43987474539839],
                  [78.54532149366175, 17.43823703361013],
                  [78.54652312330042, 17.437663831010294],
                  [78.54617980054651, 17.440038515768435],
                  [78.54476359418665, 17.44183998013294]]]),
            {
              "LULC": 4,
              "system:index": "19"
            })]),
    Others = 
    /* color: #bf04c2 */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[78.57941311110469, 17.47179949012431],
                  [78.58327549208613, 17.47081703696183],
                  [78.58404796828242, 17.47638420143507],
                  [78.57992809523554, 17.475811118837186]]]),
            {
              "LULC": 5,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.59282796958881, 17.449606461124507],
                  [78.59952276328998, 17.45263602744774],
                  [78.59844987968403, 17.453332001786926],
                  [78.59458749870258, 17.452062870113867],
                  [78.5915834246059, 17.45009774557078],
                  [78.59119718650776, 17.448664828901347]]]),
            {
              "LULC": 5,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.55728323481237, 17.4047924171053],
                  [78.55908567927038, 17.402294420841248],
                  [78.558656525828, 17.400410663377112],
                  [78.56058771631872, 17.40200776334887],
                  [78.56290514490759, 17.403768652273026],
                  [78.559557748057, 17.40462861511746]]]),
            {
              "LULC": 5,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.51683299803936, 17.391107039625997],
                  [78.51760547423565, 17.387052593883816],
                  [78.52245490813458, 17.388322177465543],
                  [78.51970832610333, 17.39012415193943]]]),
            {
              "LULC": 5,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.43122397376004, 17.399909235717022],
                  [78.42804823828641, 17.40253011757179],
                  [78.42491541815701, 17.401711096028382],
                  [78.42255507422391, 17.399745429353594],
                  [78.42620287848416, 17.397247364127523],
                  [78.43053732825223, 17.40023684800363]]]),
            {
              "LULC": 5,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.42125852079593, 17.45352600249599],
                  [78.42040021391117, 17.45184747341055],
                  [78.42482049436771, 17.45082397247863],
                  [78.42542130918704, 17.44820378390349],
                  [78.427395415022, 17.449841406176745],
                  [78.42533547849857, 17.45315754621622],
                  [78.42271764250003, 17.454467609604144]]]),
            {
              "LULC": 5,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.32037039281519, 17.439121545369122],
                  [78.3216149377981, 17.437442883665895],
                  [78.32320280553492, 17.435477601554734],
                  [78.32762308599146, 17.43478155906338],
                  [78.3287818002859, 17.436583075347453],
                  [78.32479067327174, 17.436992508385455],
                  [78.3225161600271, 17.439694743388024]]]),
            {
              "LULC": 5,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.3605593059667, 17.46592912578341],
                  [78.36163218957266, 17.465028514882725],
                  [78.36261924249014, 17.463677590180502],
                  [78.36497958642325, 17.465315073379713],
                  [78.36420711022696, 17.465560694589666],
                  [78.36124595147452, 17.46637942956343]]]),
            {
              "LULC": 5,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.38169049190931, 17.49397641466842],
                  [78.38229130672865, 17.48898283146694],
                  [78.38520955013685, 17.486772513150516],
                  [78.38563870357923, 17.491684295145678],
                  [78.3879561321681, 17.497496399091197],
                  [78.38074635433607, 17.49725082099467]]]),
            {
              "LULC": 5,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.53624329251973, 17.370532730977295],
                  [78.5365436999294, 17.36868960508835],
                  [78.53937611264912, 17.370041232553646],
                  [78.54023441953389, 17.37172051338933],
                  [78.54023441953389, 17.373891268238406],
                  [78.53838905973164, 17.374464670883487],
                  [78.53714451474873, 17.373686481144308],
                  [78.53753075284688, 17.372457753770643],
                  [78.5368870226833, 17.3709423119895]]]),
            {
              "LULC": 5,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.44169332253267, 17.325060158007005],
                  [78.44169332253267, 17.320594558742428],
                  [78.44585611092378, 17.317644745568415],
                  [78.4459848569565, 17.324691442913437],
                  [78.44353868233492, 17.325592745168738]]]),
            {
              "LULC": 5,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.42249037040453, 17.446182211109075],
                  [78.42218996299486, 17.443152537527993],
                  [78.42377783073168, 17.441719566272177],
                  [78.42364908469897, 17.445568092153902]]]),
            {
              "LULC": 5,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.57311445780914, 17.45841732149541],
                  [78.57325393267791, 17.45684118449689],
                  [78.57470232554596, 17.457076582447215],
                  [78.57415515490692, 17.45816145602666]]]),
            {
              "LULC": 5,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.51052915409905, 17.500911922656464],
                  [78.50983177975517, 17.500124039895823],
                  [78.51050769642693, 17.499678935787205],
                  [78.51168250397545, 17.49969940036784],
                  [78.5111138756643, 17.50048728496963]]]),
            {
              "LULC": 5,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.48777455816264, 17.508900278952158],
                  [78.48806960115428, 17.508168705814423],
                  [78.48923367986674, 17.508286371622837],
                  [78.48957163820262, 17.509161188938748],
                  [78.48832172880168, 17.509401635065096]]]),
            {
              "LULC": 5,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.51477606999129, 17.435701154144766],
                  [78.51750119435042, 17.437850677734176],
                  [78.51629956471174, 17.438341993855328],
                  [78.51361735569685, 17.436335778030042],
                  [78.51396067845076, 17.435455492693265]]]),
            {
              "LULC": 5,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.53050469040251, 17.436292184103852],
                  [78.5316204893527, 17.43553472935317],
                  [78.5334014761386, 17.434633968258698],
                  [78.53503225921965, 17.435227652206976],
                  [78.53376625656462, 17.4358622777394],
                  [78.5307192671237, 17.436947277568215]]]),
            {
              "LULC": 5,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.55866690195008, 17.44627493819606],
                  [78.56300135171814, 17.44795351859838],
                  [78.56169243371887, 17.44907938703738],
                  [78.55647821939392, 17.446438702818117],
                  [78.55643530404969, 17.445456112879278]]]),
            {
              "LULC": 5,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.34509117058626, 17.434781353233074],
                  [78.34616405419222, 17.432775098251078],
                  [78.3495114510428, 17.435559282902638],
                  [78.34655029229036, 17.436992302557655]]]),
            {
              "LULC": 5,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[78.34817125519211, 17.471931162956096],
                  [78.34319307526047, 17.47217677524056],
                  [78.34216310699875, 17.47012999607742],
                  [78.34705545624192, 17.468656300830727]]]),
            {
              "LULC": 5,
              "system:index": "19"
            })]);
/***** End of imports. If edited, may not auto-convert in the playground. *****/
// Applies scaling factors.
function applyScaleFactors(image) {
  var opticalBands = image.select('SR_B.').multiply(0.0000275).add(-0.2);
  var thermalBand = image.select('ST_B6').multiply(0.00341802).add(149.0);
  return image.addBands(opticalBands, null, true)
              .addBands(thermalBand, null, true);
}
var dataset = ee.ImageCollection('LANDSAT/LT05/C02/T1_L2')
    .filterDate('1984-01-01', '1990-01-01')
    .filterBounds(aoi)
    .filterMetadata('CLOUD_COVER', 'less_than' , 10)
    .map(applyScaleFactors)
    .first();
print(dataset);
var image = dataset.clip(aoi);
Map.addLayer(image, {bands: ['SR_B4','SR_B3','SR_B2'], min:0.04, max:0.44}, 'FCC_1988');

var features = Waterbody.merge(UrbanBuiltup).merge(UrbanGreenSpace).merge(AquaVegetation).merge(Others);
print(features);
var bands = ['SR_B1', 'SR_B2', 'SR_B3','SR_B4','SR_B5', 'SR_B7'];

var training = image.select(bands).sampleRegions({
  collection: features,
  properties: ['LULC'],
  scale: 30
});

var withRandom = training.randomColumn('random');
var split = 0.7; //70% training, 30% testing

var trainingPartition = withRandom.filter(ee.Filter.lt('random', split));
var testingPartition = withRandom.filter(ee.Filter.gte('random',split));

// Train the classifier
var classifier = ee.Classifier.smileRandomForest(100).train({
  features: trainingPartition,
  classProperty: 'LULC',
  inputProperties: bands});
  
  //Classify the input imagery
var final = image.classify(classifier);

var color = ['495bd6', 'd63000', '20e122', '215d1b', 'ffc82d' ];
Map.addLayer(final, {min:1, max: 5, palette: color, }, 'Land use 2004');
Map.centerObject(aoi, 11);

//Accuracy Assessment

var accuracyClassifier = ee.Classifier.smileRandomForest(100).train({
  features: testingPartition,
  classProperty:'LULC',
  inputProperties: bands
});

//Classify the test FeatureCollection
var test = testingPartition.classify(accuracyClassifier);

//Calculate confusiion matrix
var confusionMatrix = test.errorMatrix('LULC', 'classification');
print('Confusion Matrix', confusionMatrix);

//Claculate overall accuracy
var OA = confusionMatrix.accuracy();
print("Overall accuracy", OA);

//calculate consumers accuracy, also known as user's accuracy or
//specificity and the complement of comission error(1-comission error).
print("Consumer's accuracy", confusionMatrix.consumersAccuracy());


//Claculate producers accuracy also known as sensitivity and the
//compliment of omission error(1-omission error).

print("Producer's accuracy", confusionMatrix.producersAccuracy());

//calculate kappa statistic
print('kappa statistic', confusionMatrix.kappa());

// Calculation area fror each class (of classified)

var classes_area = ee.Image.pixelArea().addBands(final).divide(1e6).reduceRegion({
  reducer: ee.Reducer.sum().group(1), geometry: aoi, scale: 30, bestEffort:true});
  
print("All Classes Area in Sqare Km", classes_area);

Export.image.toDrive({
   image: final,
  description: 'LULC_1988',
  folder: 'LandCover',
  region:aoi,
  crs: 'EPSG:32644',
  scale: 30,
  fileFormat: 'GeoTIFF',
  maxPixels:1e12
});


    //Adding the Legend
    
var panel = ui.Panel({
  style: {
    position: 'bottom-left',
    padding: '5px;'
  }
})

var title = ui.Label({
  value: 'Greater Hyderabad Municipal Corporation 1988',
  style: {
    fontSize: '14px',
    fontWeight: 'bold',
    margin: '0px;'
  }
})

panel.add(title)

var color = ['495bd6', 'd63000', '20e122', '215d1b', 'ffc82d']
var lc_class = ['Waterbody', 'Urban Builtup', 'Urban Green Space', 'Aqua Vegetation', 'Others']
var list_legend = function(color, description) {
  
  var c = ui.Label({
    style: {
      backgroundColor: color,
      padding: '10px',
      margin: '4px'
    }
  })
  
  var ds = ui.Label({
    value: description,
    style: {
      margin: '5px'
    }
  })
  
  return ui.Panel({
    widgets: [c, ds],
    layout: ui.Panel.Layout.Flow('horizontal')
  })
}

for(var a = 0; a < 5; a++){
  panel.add(list_legend(color[a], lc_class[a]))
}

Map.add(panel)

